import { useContext } from 'react'
import { NavLink, useLocation } from 'react-router'
import NotesContext from '../../context/NotesContext'
import Search from '../notes/Search'
import styles from './Nav.module.scss'

function Nav() {
    const { onOpenSettings, isSettingsActive } = useContext(NotesContext)

    const location = useLocation()

    return (
        <>
            <nav className={styles.nav}>
                <div className={styles.navItems}>
                    <div className={styles.navItemsContainer}>
                        <p>Voice</p>
                        <p>Notes</p>
                    </div>
                    {location.pathname === '/' ? <div className={`${styles.navItemsContainer} ${styles.navItemsContainerSearch}`}>
                        <Search />
                    </div> : <></>}
                    <div className={styles.navItemsContainer}>
                        <NavLink to='/create'>
                            <button>
                                <span>Создать</span>
                                <svg width="20" height="20" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.965 0.0649672C15.5941 0.16272 15.3108 0.36337 14.7853 0.888148L14.2959 1.38206L15.4705 2.54994L16.6399 3.72298L17.1551 3.20849C17.8145 2.55509 17.9948 2.22582 18 1.67531C18.0051 0.898438 17.5157 0.265618 16.7584 0.0701121C16.4132 -0.0224957 16.2844 -0.0224957 15.965 0.0649672Z" fill="white"/>
                                    <path d="M11.2927 4.38149C10.1541 5.51851 9.22168 6.47545 9.22168 6.50118C9.22168 6.56806 11.4472 8.79065 11.5142 8.79065C11.5451 8.79065 12.4981 7.85943 13.6418 6.71726L15.7128 4.64902L14.5382 3.47599L13.3688 2.3081L11.2927 4.38149Z" fill="white"/>
                                    <path d="M1.85986 3.11072C1.25712 3.27021 0.644069 3.75383 0.319514 4.31976C-0.0153446 4.90628 0.000110371 4.55643 0.000110371 11.6049V18L6.53243 17.9897L13.0596 17.9743L13.3996 17.8302C14.0384 17.5575 14.569 17.0225 14.8472 16.3536L14.9657 16.0707L14.9812 11.6203L14.9915 7.17003L13.1266 9.02733L11.2565 10.8898L8.32006 11.7644C6.70759 12.248 5.37846 12.639 5.3733 12.6287C5.36815 12.6236 5.76483 11.2911 6.25424 9.67044L7.15063 6.71728L8.99493 4.87541L10.8444 3.0284L6.49122 3.03354C2.84899 3.03354 2.09169 3.04898 1.85986 3.11072Z" fill="white"/>
                                    <path d="M7.78424 9.05306C7.52151 9.93283 7.31544 10.6634 7.33089 10.6788C7.3618 10.7046 10.5095 9.78363 10.561 9.73733C10.5816 9.7116 8.34062 7.453 8.29426 7.453C8.2788 7.453 8.05213 8.17328 7.78424 9.05306Z" fill="white"/>
                                </svg>
                            </button>
                        </NavLink>
                        <button onClick={onOpenSettings} className={isSettingsActive ? styles.navItemsContainerActive : ''}>                    
                            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M30 13.6957V15.3261C30 15.9202 29.6485 16.4583 29.1039 16.6963L26.3648 17.895C26.0843 18.9978 25.6507 20.0361 25.0833 20.9896L26.5291 24.6848L25.3761 25.8378C24.9561 26.2578 24.3267 26.3896 23.773 26.173L20.9896 25.0839C20.0361 25.6513 18.9972 26.085 17.8943 26.3654L16.3043 30H14.6739C14.0798 30 13.5417 29.6485 13.3037 29.1039L12.105 26.3648C11.0022 26.0843 9.96391 25.6507 9.01044 25.0833L5.31522 26.5291L4.16283 25.3761C3.74283 24.9561 3.61109 24.3267 3.82761 23.773L4.91674 20.9896C4.3487 20.0361 3.91565 18.9972 3.63522 17.8943L0 16.3043V14.6739C0 14.0798 0.351522 13.5417 0.896087 13.3037L3.63522 12.105C3.91565 11.0022 4.34935 9.96391 4.91674 9.01044L3.47087 5.31587L4.62391 4.16283C5.04391 3.74283 5.67326 3.61109 6.2263 3.82761L9.00978 4.91674C9.96326 4.34935 11.0015 3.91565 12.105 3.63522L13.6957 0H15.3261C15.9202 0 16.4583 0.351522 16.6963 0.896087L17.895 3.63522C18.9978 3.91565 20.0361 4.34935 20.9896 4.91674L24.6848 3.47087L25.8378 4.62391C26.2578 5.04391 26.3896 5.67326 26.173 6.2263L25.0839 9.00978C25.652 9.96326 26.085 11.0022 26.3654 12.105L30 13.6957ZM15 8.47826C11.398 8.47826 8.47826 11.3987 8.47826 15C8.47826 18.6013 11.3987 21.5217 15 21.5217C18.6013 21.5217 21.5217 18.6013 21.5217 15C21.5217 11.3987 18.6013 8.47826 15 8.47826Z" fill="white"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </nav>
        </>
    )
}

export default Nav;